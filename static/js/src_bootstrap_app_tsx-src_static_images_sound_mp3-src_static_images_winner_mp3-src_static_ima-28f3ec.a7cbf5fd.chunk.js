(globalThis.webpackChunklucky_wheel=globalThis.webpackChunklucky_wheel||[]).push([["src_bootstrap_app_tsx-src_static_images_sound_mp3-src_static_images_winner_mp3-src_static_ima-28f3ec"],{98463:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ReactComponent:()=>p,default:()=>h});var r,a,s,i,l,c,o=n(92950);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function u(e,t){let{title:n,titleId:u,...p}=e;return o.createElement("svg",d({width:96,height:96,viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":u},p),n?o.createElement("title",{id:u},n):null,r||(r=o.createElement("rect",{width:96,height:96,rx:24,fill:"url(#paint0_linear_3166_6054)"})),a||(a=o.createElement("path",{opacity:.5,d:"M33.2491 48C33.2491 45.1293 34.0891 42.4482 35.5235 40.1533C35.7811 39.7413 35.7373 39.2022 35.3937 38.8586L23.7776 27.2425C23.3676 26.8324 22.6947 26.8552 22.3289 27.3052C17.7288 32.9639 15 40.1671 15 48C15 55.8311 17.7276 63.0328 22.2972 68.6909C22.662 69.1427 23.336 69.167 23.7471 68.7569L35.3922 57.1413C35.7366 56.7978 35.7807 56.2582 35.523 55.8457C34.0888 53.551 33.2491 50.8703 33.2491 48Z",fill:"#212433"})),s||(s=o.createElement("path",{d:"M48.0993 33.1501C50.97 33.1501 53.651 33.9901 55.9459 35.4245C56.358 35.6821 56.8971 35.6383 57.2407 35.2947L68.7599 23.7755C69.1692 23.3662 69.1475 22.6949 68.6993 22.3287C63.0691 17.7287 55.8645 15 48.0003 15C40.1692 15 32.9976 17.7275 27.3423 22.297C26.8906 22.662 26.8663 23.336 27.2763 23.7471L38.8535 35.3537C39.1994 35.7005 39.7437 35.7426 40.157 35.4797C42.457 34.0165 45.1698 33.1501 48.0993 33.1501Z",fill:"#212433"})),i||(i=o.createElement("path",{opacity:.5,d:"M73.3619 26.9267C73.1758 26.7039 72.8391 26.6915 72.6335 26.8965L60.4447 39.0541C60.2713 39.2271 60.2495 39.4997 60.3866 39.7026C61.9902 42.0764 62.9491 44.9184 62.9491 48C62.9491 51.0819 61.9901 53.924 60.3862 56.298C60.2493 56.5007 60.2709 56.773 60.4439 56.946L72.6335 69.1356C72.839 69.3411 73.1761 69.3289 73.3623 69.1058C78.1367 63.3869 81.0001 56.0238 81.0001 48C81.0001 39.976 78.1365 32.6443 73.3619 26.9267Z",fill:"#212433"})),l||(l=o.createElement("path",{d:"M48.0991 62.8499C45.0172 62.8499 42.1751 61.8909 39.8012 60.2871C39.5984 60.1502 39.3262 60.1718 39.1532 60.3448L26.8645 72.6334C26.6591 72.8389 26.6712 73.176 26.8943 73.3622C32.6133 78.1366 39.9763 81 48.0001 81C56.0572 81 63.4219 78.1358 69.1104 73.3295C69.3315 73.1427 69.3426 72.8074 69.1379 72.6027L56.9433 60.4081C56.7715 60.2363 56.5015 60.2136 56.2991 60.3479C53.9279 61.9207 51.1184 62.8499 48.0991 62.8499Z",fill:"#212433"})),c||(c=o.createElement("defs",null,o.createElement("linearGradient",{id:"paint0_linear_3166_6054",x1:0,y1:96,x2:104.62,y2:85.4464,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#9945FF"}),o.createElement("stop",{offset:1,stopColor:"#B9F8FD"})))))}const p=o.forwardRef(u),h=n.p+"static/media/logo.c646f6444e0d9e3a8fd446c4798713e5.svg"},45597:(e,t,n)=>{"use strict";Object.defineProperty(t,"X$",{value:!0}),Object.defineProperty(t,"jY",{enumerable:!0,get:function(){return i.default}}),t.h0=void 0,Object.defineProperty(t,"ng",{enumerable:!0,get:function(){return l.default}});var r=c(n(27803)),a=c(n(85468)),s=c(n(83943)),i=c(n(98463)),l=c(n(83272));function c(e){return e&&e.__esModule?e:{default:e}}const o=[r.default,a.default,s.default];t.h0=o},11386:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Page:()=>ln,__esModule:()=>an.X$,logo:()=>an.jY,panels:()=>an.h0,readme:()=>an.ng});var r=n(92950),a=n(55754),s=n(41165),i=n(45055),l=n(94751),c=n(27906),o=n(48744),d=n.n(o);const u=(e,t)=>window.notify({type:"success",description:`${e} successfully. Click to view details.`,onClick:()=>window.open(s.util.explorer(t),"_blank")}),p=e=>window.notify({type:"error",description:e.message});const h={appId:"lucky_wheel",url:"https://descartesnetwork.github.io/sen-lucky-wheel/index.js"},m={development:{...h},production:{...h}},w={devnet:{node:"https://api.devnet.solana.com",programId:"2L1eKz8TA88j84yoAywGdeKF1ohvjQC4iMxzR5GbjkWD",campaignId:"ArfTs2Ltzn4PB1Qyozg45r8S1mi2zrLxoFxdFoP8mnQD"},testnet:{node:"https://api.testnet.solana.com",programId:"2L1eKz8TA88j84yoAywGdeKF1ohvjQC4iMxzR5GbjkWD",campaignId:"FdBXXUwYfzc7B6krZPd3UoksqDA5dHzzYuJWLbJBG9Qj"},mainnet:{node:"https://api.mainnet-beta.solana.com",programId:"2L1eKz8TA88j84yoAywGdeKF1ohvjQC4iMxzR5GbjkWD",campaignId:"FdBXXUwYfzc7B6krZPd3UoksqDA5dHzzYuJWLbJBG9Qj"}},y=e=>({origin:e,lottery:{index:e+"/lottery",get publicKey(){return this.index+"/util/lottery-pubkey"},get luckyNumber(){return this.index+"/lucky-number/"}}}),C={development:{...y("https://api.sentre.io")},production:{...y("https://api.sentre.io")}},x={manifest:m[s.env],sol:w[s.net],api:C[s.env]};var g=n(19289);const j="main",f=(0,g.createAsyncThunk)("main/setCampaign",(async e=>{let{campaign:t}=e;return{campaign:t}})),b=(0,g.createSlice)({name:j,initialState:{campaign:""},reducers:{},extraReducers:e=>{e.addCase(f.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,k=()=>{const e=(0,a.useSelector)((e=>e.main.campaign)),t=(0,a.useDispatch)();return(0,r.useEffect)((()=>{e||t(f({campaign:x.sol.campaignId}))}),[t,e]),e};var v=n(45263),T=n(97429).Buffer;const A=()=>{const e=(0,a.useSelector)((e=>e.campaigns)),[t,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(0),h=(0,s.useWalletAddress)(),m=k(),{to:w}=(0,s.useAppRoute)(x.manifest.appId),{onInitializeCampaign:y}=(()=>{const[e,t]=(0,r.useState)(!1);return{onInitializeCampaign:(0,r.useCallback)((async()=>{t(!0);try{const e=Array.from(window.luckyWheel.picker.pubKey).slice(1,65),{txId:n}=await window.luckyWheel.initializeCampaign({picker:e,startDate:new(d())(0),endDate:new(d())(0)});u("Create campaign",n)}catch(e){p(e)}finally{t(!1)}}),[]),loading:e}})(),C=(0,s.useGetMintData)(),g=(0,a.useDispatch)(),j=e[m],b=t=>{var n;return h===(null===(n=e[t])||void 0===n?void 0:n.authority.toBase58())},A=(0,r.useCallback)((async()=>{const e=(await window.luckyWheel.deriveCampaignPDAs(new c.web3.PublicKey(m))).ticketMint.toBase58();let t=0;try{const n=await C({mintAddress:e});void 0!==n&&(t=Number(n[e].supply.toString()))}catch(r){}return o(t),n(e)}),[C,m]);(0,r.useEffect)((()=>{A()}),[A]);return(0,v.jsx)(l.PageHeader,{ghost:!1,onBack:()=>w("/dashboard"),title:"Admin",subTitle:(0,v.jsxs)(l.Space,{children:[m,b(m)?(0,v.jsx)(l.Tag,{color:"success",children:"Your Campaign"}):(0,v.jsx)(l.Tag,{color:"error",children:"Not Have Permission"})]}),style:{backgroundColor:"rgba(255, 255, 255, 0.1)"},extra:[(0,v.jsx)(l.Select,{style:{width:120},onChange:e=>g(f({campaign:e})),value:m,children:Object.keys(e).map((e=>(0,v.jsx)(l.Select.Option,{value:e,children:(0,v.jsx)(l.Typography.Text,{style:{color:b(e)?void 0:"red"},children:e})},e)))},"3"),(0,v.jsx)(l.Button,{onClick:async()=>{try{const{txId:e}=await window.luckyWheel.printTicketMint({campaign:new c.web3.PublicKey(m),amount:new c.BN(10)});u("Print ticket",e)}catch(e){p(e)}},children:"Print Ticket"},"2"),(0,v.jsx)(l.Button,{type:"primary",onClick:y,children:"New Campaign"},"1")],children:(0,v.jsxs)(l.Row,{gutter:[24,24],style:{paddingLeft:32},children:[(0,v.jsx)(l.Col,{span:17,children:(0,v.jsxs)(l.Descriptions,{size:"small",column:2,children:[(0,v.jsx)(l.Descriptions.Item,{label:"Address",children:m}),(0,v.jsx)(l.Descriptions.Item,{label:"Ticket Token",children:t}),(0,v.jsx)(l.Descriptions.Item,{label:"Authority",children:s.util.shortenAddress((null===j||void 0===j?void 0:j.authority.toBase58())||"",8)}),(0,v.jsx)(l.Descriptions.Item,{label:"Picker",children:s.util.shortenAddress(T.from((null===j||void 0===j?void 0:j.picker)||[]).toString("hex"),8)})]})}),(0,v.jsx)(l.Col,{span:"auto",children:(0,v.jsxs)(l.Space,{size:32,children:[(0,v.jsx)(l.Statistic,{title:"Total Ticket",value:null===j||void 0===j?void 0:j.totalTicket.toNumber()}),(0,v.jsx)(l.Statistic,{title:"Total Picked",value:null===j||void 0===j?void 0:j.totalPicked.toNumber()}),(0,v.jsx)(l.Statistic,{title:"Total Ticket Mint",value:i})]})})]})})},S=e=>(0,a.useSelector)((t=>t.rewards[e])),N=e=>{let{rewardAddress:t}=e;const n=S(t);let r=0;return n&&(r=Number(n.toLuckyNumber.sub(n.fromLuckyNumber))/10**18),(0,v.jsx)("span",{children:s.util.numeric(r).format("0,0.[0000]%")})};var B=n(6109);let I;!function(e){e.Token="token",e.NFT="nft",e.GoodLuck="good-luck",e.Ticket="ticket"}(I||(I={}));const R=["radial-gradient(47.41% 47.41% at 49.98% 50.04%,#8952cc 10.07%,#b67aff 58.27%,#d2adff 85.66%,#d2adff 92.66%,#9553e6 100%)","radial-gradient(47.41% 47.41% at 49.98% 50.04%, #52C4CC 10.07%, #7AF6FF 58.27%, #B3FAFF 85.66%, #85F7FF 92.66%, #53DCE6 100%)","radial-gradient(47.41% 47.41% at 49.98% 50.04%, #C25F3E 10.07%, #EE7C56 58.27%, #FFAB8F 84.11%, #FFA385 92.66%, #E67049 100%)"];let P,F;!function(e){e.Spin="spin",e.Reward="reward",e.Challenge="challenge"}(P||(P={})),function(e){e.Claimed="CLAIMED",e.Ready="CLAIM",e.Pending="SPIN MORE"}(F||(F={}));const L="11111111111111111111111111111111";let z;!function(e){e.Token="Token",e.NFT="NFT",e.Ticket="Ticket"}(z||(z={}));const M=e=>{let{rewardAddress:t}=e;const n=S(t);return null!==n&&void 0!==n&&n.rewardType&&t!==L?n.rewardType.nft||n.rewardType.nftCollection?(0,v.jsx)("span",{children:"x1"}):n.rewardType.ticket?(0,v.jsxs)("span",{children:["+",n.prizeAmount.toNumber()]}):(0,v.jsx)(B.Z,{mintAddress:n.mint,amount:n.prizeAmount}):null};var E=n(74939);const O=n.p+"static/media/good-luck-icon.b0914abdc9cae6b01db6.png",D=n.p+"static/media/ticket-icon.addffd5f07fb7f68f0f0.png",W=e=>{let{rewardAddress:t,size:n}=e;const r=S(t);return null!==r&&void 0!==r&&r.rewardType&&t!==L?r.rewardType.ticket?(0,v.jsx)(l.Image,{preview:!1,style:{height:n,width:n},src:D}):(0,v.jsx)(E.Z,{mintAddress:r.mint,size:n}):(0,v.jsx)(l.Avatar,{size:n,shape:"circle",src:O})};var K=n(99370),_=n(66073);const Z=e=>{let{rewardAddress:t}=e;const n=S(t)||{mint:new c.web3.PublicKey(L)},{nftInfo:r,metadata:a}=(0,_.useNftMetaData)(n.mint.toBase58());return null!==n&&void 0!==n&&n.rewardType&&t!==L?n.rewardType.ticket?(0,v.jsx)("span",{children:"Ticket"}):n.rewardType.nftCollection?(0,v.jsx)("span",{children:(null===a||void 0===a?void 0:a.data.data.name)||(null===r||void 0===r?void 0:r.name)}):(0,v.jsx)(K.Z,{mintAddress:n.mint}):(0,v.jsxs)("span",{children:["Good ",(0,v.jsx)("br",{})," luck"]})};var G=n(43785);const V=e=>{let{rewardAddress:t}=e;const[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)(0),[o,d]=(0,r.useState)(0),h=S(t),{onUpdateRatio:m,loading:w}=(()=>{const[e,t]=(0,r.useState)(!1);return{onUpdateRatio:async e=>{let{campaign:n,rewardAddress:r,ratio:a}=e;t(!0);try{const e=new c.BN("1"+"0".repeat(18)).mul(new c.BN(a*10**9)).div(new c.BN(100*10**9)),{txId:s}=await window.luckyWheel.updateLuckyRatio({reward:new c.web3.PublicKey(r),campaign:new c.web3.PublicKey(n),fromLuckyNumber:new c.BN(0),toLuckyNumber:e});u("Update ratio",s)}catch(s){return p(s)}finally{t(!1)}},loading:e}})(),{onDepositReward:y,loading:C}=(()=>{const[e,t]=(0,r.useState)(!1);return{onDepositReward:async e=>{let{mint:n,campaign:r,totalPrize:a,reward:s}=e;t(!0);try{const{txId:e}=await window.luckyWheel.depositReward({campaign:new c.web3.PublicKey(r),reward:new c.web3.PublicKey(s),totalPrize:new c.BN(a),mint:new c.web3.PublicKey(n)});u("Deposit reward",e)}catch(i){p(i)}finally{t(!1)}},loading:e}})(),[x,g]=(0,r.useState)(h.mint.toBase58());return(0,r.useEffect)((()=>{h.rewardType.nftCollection&&d(1)}),[h.rewardType.nftCollection]),(0,v.jsx)(l.Popover,{content:(0,v.jsxs)(l.Collapse,{defaultActiveKey:["1"],children:[(0,v.jsx)(l.Collapse.Panel,{header:"Update Ratio",children:(0,v.jsxs)(l.Space,{size:4,children:[(0,v.jsx)(l.Typography.Text,{children:"New Ratio: "}),(0,v.jsx)(l.InputNumber,{value:s,onChange:i}),(0,v.jsx)(l.Button,{onClick:()=>m({campaign:h.campaign.toBase58(),rewardAddress:t,ratio:s}),loading:w,children:"Update"})]})},"1"),(0,v.jsx)(l.Collapse.Panel,{header:"Deposit",children:(0,v.jsxs)(l.Space,{children:[h.rewardType.nftCollection?(0,v.jsxs)(l.Space,{children:[(0,v.jsx)(_.NFTSelection,{collectionAddress:[h.mint.toBase58()],onSelect:g}),(0,v.jsx)(_.AvatarNFT,{mintAddress:x===h.mint.toBase58()?"":x,size:24})]}):(0,v.jsxs)(l.Space,{children:[(0,v.jsx)(l.Typography.Text,{children:"Total Prize: "}),(0,v.jsx)(l.InputNumber,{value:o,onChange:d})]}),(0,v.jsx)(l.Button,{onClick:()=>y({campaign:h.campaign.toBase58(),reward:t,mint:x,totalPrize:o}),loading:C,children:"Deposit"})]})},"2")]}),trigger:"click",visible:n,onVisibleChange:a,placement:"bottomLeft",children:(0,v.jsx)(l.Button,{onClick:()=>a(!n),children:(0,v.jsx)(G.default,{name:"create-outline"})})})},H=[{title:"Avatar",dataIndex:"address",key:"address",render:e=>(0,v.jsxs)(l.Space,{children:[(0,v.jsx)(W,{rewardAddress:e,size:32}),(0,v.jsx)(Z,{rewardAddress:e})]})},{title:"Prize Amount",dataIndex:"address",key:"address",render:e=>(0,v.jsx)(M,{rewardAddress:e})},{title:"Reserve Prize",dataIndex:"reservePrize",key:"reservePrize",render:e=>(0,v.jsx)(l.Typography,{children:e.toNumber()})},{title:"Ratio",dataIndex:"address",key:"address",render:e=>(0,v.jsx)(l.Typography.Text,{children:(0,v.jsx)(N,{rewardAddress:e})})},{title:"Action",dataIndex:"address",key:"address",render:e=>(0,v.jsx)(V,{rewardAddress:e})}],Y=e=>{let{title:t,actionCreate:n,data:r}=e;return(0,v.jsx)(l.Row,{justify:"center",children:(0,v.jsx)(l.Col,{xs:24,lg:16,children:(0,v.jsx)(l.Table,{className:"reward",title:()=>(0,v.jsxs)(l.Row,{justify:"space-between",children:[(0,v.jsx)(l.Col,{children:(0,v.jsx)(l.Typography.Title,{level:4,style:{fontWeight:"bold"},children:t})}),(0,v.jsx)(l.Col,{children:n})]}),columns:H,dataSource:r,bordered:!1,pagination:!1,style:{width:"100%"}},t)})})};var $=n(95880),U=n.n($),Q=n(39295);const X=()=>{const[e,t]=(0,r.useState)(!1),n=(0,r.useCallback)((async e=>{let{prizeAmount:n,campaign:r,ratio:a,rewardType:s,rewardMint:i}=e;t(!0);try{const e=new c.web3.PublicKey(r),l=c.web3.Keypair.generate(),{tx:o}=await window.luckyWheel.initializeReward({campaign:e,rewardMint:new c.web3.PublicKey(i),prizeAmount:n,rewardType:s,reward:l,sendAndConfirm:!1}),d=new c.BN("1"+"0".repeat(18)).mul(new c.BN(a*10**9)).div(new c.BN(100*10**9)),{tx:p}=await window.luckyWheel.updateLuckyRatio({campaign:new c.web3.PublicKey(r),reward:l.publicKey,fromLuckyNumber:new c.BN(0),toLuckyNumber:d,sendAndConfirm:!1}),h=new c.web3.Transaction;h.add(o),h.add(p);const m=await window.luckyWheel.provider.sendAndConfirm(h,[l]);u("Create reward",m)}catch(l){p(l)}finally{t(!1)}}),[]);return{createReward:n,loading:e}},J=e=>{let{campaignAddress:t}=e;const[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)("0"),[o,d]=(0,r.useState)("0"),[u,p]=(0,r.useState)(""),{createReward:h,loading:m}=X();return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(l.Button,{block:!0,type:"primary",onClick:()=>a(!0),children:"Add New"}),(0,v.jsx)(l.Modal,{title:"Create Token Reward",visible:n,onCancel:()=>a(!1),onOk:async()=>{await h({prizeAmount:new c.BN(s),campaign:t,rewardMint:u,ratio:Number(o),rewardType:$.REWARD_TYPE.token})},confirmLoading:m,children:(0,v.jsxs)(l.Row,{gutter:[24,24],children:[(0,v.jsx)(l.Col,{span:10,children:(0,v.jsx)(l.Typography.Text,{children:"Token :"})}),(0,v.jsx)(l.Col,{span:14,children:(0,v.jsx)(Q.Z,{onChange:p})}),(0,v.jsx)(l.Col,{span:10,children:(0,v.jsx)(l.Typography.Text,{children:"Prize Amount :"})}),(0,v.jsx)(l.Col,{span:14,children:(0,v.jsx)(l.Input,{style:{width:"100%"},min:"0",value:s,onChange:e=>i(e.target.value)})}),(0,v.jsx)(l.Col,{span:10,children:(0,v.jsx)(l.Typography.Text,{children:"Ratio (%) :"})}),(0,v.jsx)(l.Col,{span:14,children:(0,v.jsx)(l.InputNumber,{style:{width:"100%"},min:"0",max:"100",value:o,onChange:e=>d(e)})})]})})]})},q=e=>{const t=(0,a.useSelector)((e=>e.rewards));return(0,r.useMemo)((()=>{const n={};for(const r in t){const{campaign:a}=t[r];a.toBase58()===e&&(n[r]=t[r])}return n}),[t,e])},ee=()=>{const e=k(),t=q(e),n=Object.keys(t).filter((e=>!!t[e].rewardType.token)).map((e=>({address:e,...t[e]})));return(0,v.jsx)(Y,{data:n,title:"Token Rewards",actionCreate:(0,v.jsx)(J,{campaignAddress:e})})},te=e=>{let{setCollection:t}=e;const[n,a]=(0,r.useState)(!1);return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(l.Button,{onClick:()=>a(!0),children:"Select NFT"}),(0,v.jsx)(l.Modal,{visible:n,onCancel:()=>a(!1),footer:null,children:(0,v.jsx)(_.SearchNFT,{onSelect:e=>{t(e),a(!1)},searchNFTby:_.searchNFTType.collections})})]})},ne=e=>{let{campaignAddress:t}=e;const[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)("0"),[o,d]=(0,r.useState)(""),{createReward:u,loading:p}=X();return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(l.Button,{block:!0,type:"primary",onClick:()=>a(!0),children:"Add New"}),(0,v.jsx)(l.Modal,{title:"Create Token Reward",visible:n,onCancel:()=>a(!1),onOk:async()=>{await u({prizeAmount:new c.BN(1),campaign:t,rewardMint:o,ratio:Number(s),rewardType:$.REWARD_TYPE.nftCollection})},confirmLoading:p,children:(0,v.jsxs)(l.Row,{gutter:[24,24],children:[(0,v.jsx)(l.Col,{span:10,children:(0,v.jsx)(l.Typography.Text,{children:"Prize Amount :"})}),(0,v.jsx)(l.Col,{span:14,children:(0,v.jsx)(l.Typography.Text,{children:"1 NFT"})}),(0,v.jsx)(l.Col,{span:10,children:(0,v.jsx)(l.Typography.Text,{children:"Ratio (%) :"})}),(0,v.jsx)(l.Col,{span:14,children:(0,v.jsx)(l.InputNumber,{style:{width:"100%"},min:"0",max:"100",value:s,onChange:e=>i(e)})}),(0,v.jsx)(l.Col,{span:10,children:(0,v.jsx)(l.Typography.Text,{children:"Collection :"})}),(0,v.jsx)(l.Col,{span:14,children:(0,v.jsxs)(l.Space,{direction:"vertical",children:[(0,v.jsx)(te,{setCollection:d}),o&&(0,v.jsx)(_.AvatarNFT,{mintAddress:o})]})})]})})]})},re=()=>{const e=k(),t=q(e),n=Object.keys(t).filter((e=>!!t[e].rewardType.nftCollection)).map((e=>({address:e,...t[e]})));return(0,v.jsx)(Y,{data:n,title:"NFT Rewards",actionCreate:(0,v.jsx)(ne,{campaignAddress:e})})},ae=e=>{let{campaignAddress:t}=e;const[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)("0"),[o,d]=(0,r.useState)("0"),{createReward:u,loading:p}=X();return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(l.Button,{block:!0,type:"primary",onClick:()=>a(!0),children:"Add New"}),(0,v.jsxs)(l.Modal,{title:"Create Ticket Reward",visible:n,onCancel:()=>a(!1),onOk:async()=>{const e=await window.luckyWheel.deriveCampaignPDAs(new c.web3.PublicKey(t));await u({prizeAmount:new c.BN(s),campaign:t,rewardMint:e.ticketMint,ratio:Number(o),rewardType:$.REWARD_TYPE.ticket})},confirmLoading:p,children:[(0,v.jsx)(l.Row,{justify:"center",style:{paddingBottom:16},children:(0,v.jsx)(l.Col,{children:(0,v.jsx)(l.Image,{preview:!1,style:{height:100,width:100},src:D})})}),(0,v.jsxs)(l.Row,{gutter:[24,24],children:[(0,v.jsx)(l.Col,{span:10,children:(0,v.jsx)(l.Typography.Text,{children:"Prize Amount :"})}),(0,v.jsx)(l.Col,{span:14,children:(0,v.jsx)(l.Input,{style:{width:"100%"},min:"0",value:s,onChange:e=>i(e.target.value)})}),(0,v.jsx)(l.Col,{span:10,children:(0,v.jsx)(l.Typography.Text,{children:"Ratio (%) :"})}),(0,v.jsx)(l.Col,{span:14,children:(0,v.jsx)(l.InputNumber,{style:{width:"100%"},min:"0",max:"100",value:o,onChange:e=>d(e)})})]})]})]})},se=()=>{const e=k(),t=q(e),n=Object.keys(t).filter((e=>!!t[e].rewardType.ticket)).map((e=>({address:e,...t[e]})));return(0,v.jsx)(Y,{data:n,title:"Ticket Rewards",actionCreate:(0,v.jsx)(ae,{campaignAddress:e})})},ie=()=>(0,v.jsxs)(l.Row,{gutter:[24,24],children:[(0,v.jsx)(A,{}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(ee,{})}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(re,{})}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(se,{})})]});var le=n(36645),ce=n(4550),oe=n.n(ce);const de=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,a.useSelector)((e=>e.tickets)),i=(0,s.useWalletAddress)(),l=(0,r.useMemo)((()=>{const r={};for(const a in n){const{authority:s,campaign:l}=n[a];l.toBase58()===e&&(s.toBase58()!==i&&t||(r[a]=n[a]))}return r}),[e,t,n,i]);return l},ue=()=>{const[e,t]=(0,r.useState)(!1),n=k(),a=q(n),s=de(n),i=(0,r.useCallback)((async e=>{const t=window.sentre.splt,{mint:n}=a[e],{rewardTreasurer:r}=await window.luckyWheel.deriveRewardPDAs(new c.web3.PublicKey(e),n),{value:s}=await t.connection.getTokenAccountsByOwner(r,{programId:t.spltProgramId});for(const a of s){const e=t.parseAccountData(a.account.data);if(Number(e.amount.toString())>0)return new c.web3.PublicKey(e.mint)}throw new Error("Can't find account")}),[a]);return{onClaim:(0,r.useCallback)((async e=>{try{t(!0);const r=s[e].reward.toBase58(),{rewardType:l,mint:o,prizeAmount:d}=a[r];let p=o;l.nftCollection&&(p=await i(r));const h=new c.web3.Transaction,m=[],{tx:w}=await window.luckyWheel.claim({ticket:new c.web3.PublicKey(e),mint:p,sendAndConfirm:!1});if(h.add(w),l.ticket)for(let e=0;e<d.toNumber();e++){const e=c.web3.Keypair.generate(),{tx:t}=await window.luckyWheel.redeemTicket({campaign:new c.web3.PublicKey(n),ticket:e,sendAndConfirm:!1});h.add(t),m.push(e)}const y=await window.luckyWheel.provider.sendAndConfirm(h,m);return u("Claimed",y)}catch(r){return p(r)}finally{t(!1)}}),[i,a,n,s]),loading:e}},pe=e=>{let{ticketAddress:t}=e;const n=k(),r=de(n),{state:a}=r[t],{onClaim:s,loading:i}=ue();return a.claimed?(0,v.jsx)(l.Typography.Title,{level:5,children:"CLAIMED"}):(0,v.jsx)(l.Button,{loading:i,type:"primary",onClick:()=>s(t),children:"CLAIM"})},he=()=>{const e=k(),t=de(e),[n,a]=(0,r.useState)(!1),s=(0,r.useMemo)((()=>{const e=[];for(const r in t){const a=t[r],s=a.state;(s.claimed&&!n||s.won)&&e.push({...a,ticketAddress:r})}return e}),[n,t]),i=[{title:"TIME",dataIndex:"pickAt",key:"pickAt",render:e=>(0,v.jsx)(l.Typography.Text,{children:oe()(1e3*e.toNumber()).format("MMM DD, YYYY HH:mm")})},{title:"REWARD",dataIndex:"reward",key:"reward",render:e=>(0,v.jsxs)(l.Space,{children:[(0,v.jsx)(W,{size:24,rewardAddress:e.toBase58()}),(0,v.jsx)(Z,{rewardAddress:e.toBase58()})]})},{title:"AMOUNT",dataIndex:"reward",key:"reward",render:e=>(0,v.jsx)(M,{rewardAddress:e.toBase58()})},{title:"ACTIONS",dataIndex:"ticketAddress",key:"ticketAddress",render:e=>(0,v.jsx)(pe,{ticketAddress:e})}];return(0,v.jsxs)(l.Row,{gutter:[12,12],children:[(0,v.jsx)(l.Col,{span:24,style:{textAlign:"right"},children:(0,v.jsxs)(l.Space,{children:[(0,v.jsx)(l.Typography.Text,{children:"Claim only"}),(0,v.jsx)(l.Switch,{onChange:a,size:"small"})]})}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Table,{dataSource:s,columns:i,pagination:!1})})]})},me=e=>{let{children:t}=e;return(0,v.jsx)(l.Row,{justify:"center",children:(0,v.jsx)(l.Col,{xs:24,md:16,lg:12,children:(0,v.jsx)(l.Col,{span:24,children:t})})})},we=e=>{let{material:t}=e;const{rewardAddress:n}=t;return(0,v.jsxs)(l.Space,{style:{zIndex:3,position:"relative"},direction:"vertical",size:0,children:[(0,v.jsx)(W,{rewardAddress:n,size:64}),(0,v.jsx)(l.Typography.Title,{level:4,style:{color:"#212433",fontFamily:"Nunito",fontWeight:"bold"},children:(0,v.jsx)(M,{rewardAddress:n})}),(0,v.jsx)(l.Typography.Title,{level:4,style:{color:"#212433",fontFamily:"Nunito"},children:(0,v.jsx)(Z,{rewardAddress:n})})]})},ye=e=>{let{onClose:t,visible:n}=e;return(0,v.jsx)(l.Modal,{visible:n,onCancel:()=>t(!1),footer:null,closeIcon:(0,v.jsx)(G.default,{name:"close-outline"}),className:"congrats",children:(0,v.jsxs)(l.Row,{gutter:[16,16],className:"congrats_content",children:[(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Avatar,{size:96,shape:"circle",src:O})}),(0,v.jsx)(l.Col,{span:24})," ",(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Typography.Title,{level:4,className:"gradient-text",children:"Good luck"})}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Typography.Text,{type:"secondary",children:"You have almost reached. Try again."})}),(0,v.jsx)(l.Col,{span:24})," ",(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Button,{type:"primary",size:"large",block:!0,onClick:()=>t(!1),children:"SPIN AGAIN"})})]})})};const Ce=n.p+"static/media/bg-popup.91133c926245c4382d5a3b2ab660d0a6.svg",xe=e=>{let{onClose:t,visible:n,resultReward:a}=e;const s=k(),i=de(s),{loading:c,onClaim:o}=ue(),d=(0,r.useMemo)((()=>{for(const e in i){if(i[e].reward.toBase58()===a)return e}return""}),[a,i]);return(0,v.jsxs)(l.Modal,{visible:n,onCancel:()=>t(!1),footer:null,closeIcon:(0,v.jsx)(G.default,{name:"close-outline"}),className:"congrats",children:[(0,v.jsx)(l.Image,{preview:!1,src:Ce}),(0,v.jsxs)(l.Row,{gutter:[16,16],className:"congrats_content",children:[(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Typography.Title,{level:4,className:"gradient-text",children:"Congratulations!"})}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Typography.Text,{children:"You have received a reward!"})}),(0,v.jsx)(l.Col,{span:24})," ",(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(W,{size:96,rewardAddress:a})}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Typography.Title,{level:3,children:(0,v.jsx)(Z,{rewardAddress:a})})}),(0,v.jsx)(l.Col,{span:24})," ",(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Button,{loading:c,onClick:()=>{o(d),t(!1)},size:"large",type:"primary",block:!0,children:"CLAIM"})}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Button,{size:"large",block:!0,onClick:()=>t(!1),children:"SPIN MORE"})})]})]})},ge=e=>{let{resultReward:t,visible:n,onClose:r}=e;return t!==I.GoodLuck&&t?(0,v.jsx)(xe,{resultReward:t,visible:n,onClose:r}):(0,v.jsx)(ye,{visible:n,onClose:r})},je=e=>{const t=(0,a.useSelector)((e=>e.tickets)),n=(0,s.useWalletAddress)();return(0,r.useMemo)((()=>{const r={};for(const a in t){const s=t[a],{authority:i,campaign:l}=s;i.toBase58()===n&&l.toBase58()===e&&s.state.initialized&&(r[a]=s)}return r}),[e,t,n])},fe=e=>{let t=new c.BN(0);for(let n=0;n<18;n++){let r=new c.BN(e[n]%10);t=t.add(r.mul(new c.BN(1+"0".repeat(n))))}return t};var be=n(4065);const ke=e=>{const t=je(e),n=(e=>{const t=q(e);return(0,r.useCallback)((async e=>{let n=[];for(const r in t){const{fromLuckyNumber:a,toLuckyNumber:s,reservePrize:i}=t[r];a.lt(e)&&s.gt(e)&&!i.isZero()&&n.push(new c.web3.PublicKey(r))}return n=n.sort(((e,n)=>{const r=t[e.toBase58()].toLuckyNumber,a=t[n.toBase58()].toLuckyNumber;return r.gt(a)?1:-1})),n}),[t])})(e),i=(e=>{const t=(0,a.useSelector)((e=>e.tickets)),n=(0,s.useWalletAddress)();return(0,r.useCallback)((async()=>{const r=Object.keys(t).map((e=>new c.web3.PublicKey(e))),a=await(0,be.getMultipleAccounts)(window.luckyWheel.provider.connection,r),s={};for(const i of a){if(!i)continue;const r=i.publicKey.toBase58(),a=t[r],{authority:l,campaign:c}=a;l.toBase58()===n&&c.toBase58()===e&&a.state.lost&&(s[r]=a)}return s}),[e,t,n])})(e),l=(0,r.useCallback)((async e=>{const t=window.luckyWheel.picker.sign(new c.web3.PublicKey(e).toBuffer()),n=Array.from(t.signature);return{ticket:new c.web3.PublicKey(e),recoveryId:t.recid,signature:n,luckyNumber:fe(n)}}),[]);return(0,r.useCallback)((async()=>{const r=Object.keys(t)[0],a=await l(r),s=await n(a.luckyNumber),o=new c.web3.Transaction;try{const{lotteryInfo:t}=await window.luckyWheel.deriveCampaignPDAs(new c.web3.PublicKey(e));await window.luckyWheel.program.account.lotteryInfo.fetch(t)}catch(h){const{tx:t}=await window.luckyWheel.initializeLotteryInfo({campaign:new c.web3.PublicKey(e),sendAndConfirm:!1});o.add(t)}const{tx:d}=await window.luckyWheel.pickLuckyNumber({...a,sendAndConfirm:!1});o.add(d);const{tx:u}=await window.luckyWheel.checkPrize({...a,rewards:s,sendAndConfirm:!1});o.add(u);const p=await i();for(const e of Object.keys(p)){const{tx:t}=await window.luckyWheel.closeTicket({ticket:new c.web3.PublicKey(e),sendAndConfirm:!1});o.add(t)}return await window.luckyWheel.provider.sendAndConfirm(o),r}),[t,e,n,i,l])},ve=n.p+"static/media/arrow.819fcbae1cab8f5a9996.png",Te=n.p+"static/media/sound.b65c6942e825307bfb6f.mp3",Ae=n.p+"static/media/winner.726b163ee6fbabfae0b3.mp3";let Se=new Audio(Te),Ne=new Audio(Ae);const Be=e=>{let{rewards:t}=e;const[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!1),[c,o]=(0,r.useState)(""),d=k(),u=ke(d),h=je(d),m=Math.ceil(360/t.length),w=90-m,y=Math.floor(m/2),C=(0,r.useMemo)((()=>{const e=new Map;for(let n=0;n<t.length;n++)e.set(t[n].rewardAddress,n*m);return e}),[t,m]),x=(0,r.useMemo)((()=>{let e=0;const n=[];for(let r=0;r<t.length;r++)R[e]||(e=0),n.push(R[e]),e++;return n}),[t.length]),g=async()=>{try{a(!0);const e=await u();let t=null;const n=await window.luckyWheel.account.ticket.fetch(e);n.state.won&&(t=n.reward.toBase58()),Se.play();let r=document.getElementById("wheel");if(!r)return;const s=-2e4,l=-1e4;let c=Math.floor(Math.random()*(s-l+1))+l;r.style.transform="rotate("+c+"deg)",r.style.transition="3s all",o(t||I.GoodLuck),setTimeout((()=>{r&&(c=-(C.get(t||I.GoodLuck)||0)-y,r.style.transform="rotate("+c+"deg)")}),2e3),setTimeout((()=>{Se.pause(),Se.currentTime=0,Ne.play(),a(!1),i(!0)}),5e3),setTimeout((()=>{Ne.currentTime=0}),5e3)}catch(e){p(e),a(!1)}};return(0,v.jsxs)(l.Row,{gutter:[0,32],children:[(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)("div",{className:"container",children:(0,v.jsxs)("div",{className:"container-body",children:[(0,v.jsx)(l.Image,{src:ve,id:"stopper",preview:!1}),(0,v.jsx)("ul",{className:"circle",id:"wheel",children:t.map(((e,t)=>(0,v.jsx)("li",{style:{transform:`rotate(${t*m}deg) skewY(-${w}deg)`},children:(0,v.jsxs)("div",{style:{transform:`skewY(${w}deg) rotate(${y}deg)`},className:"text",children:[(0,v.jsx)("div",{className:"bg",style:{background:`${x[t]}`}}),(0,v.jsx)(we,{material:e})]})},e.rewardAddress)))})]})})}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsxs)(l.Row,{gutter:[16,16],children:[(0,v.jsx)(l.Col,{xs:24,lg:12,children:(0,v.jsx)(l.Button,{size:"large",block:!0,disabled:n||!Object.keys(h).length,onClick:g,loading:n,type:"primary",children:"SPIN X1"})}),(0,v.jsx)(l.Col,{xs:24,lg:12,children:(0,v.jsx)(l.Button,{size:"large",block:!0,disabled:n||!Object.keys(h).length,onClick:g,children:"SPIN X10"})})]})}),(0,v.jsx)(ge,{resultReward:c,visible:s,onClose:i})]})};var Ie,Re;function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Fe(e,t){let{title:n,titleId:a,...s}=e;return r.createElement("svg",Pe({width:17,height:14,viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,Ie||(Ie=r.createElement("path",{d:"M12.3745 0.216797L6.75786 0.216797V2.73346C6.75786 3.05846 6.4912 3.3168 6.17453 3.3168C5.85786 3.3168 5.5912 3.05846 5.5912 2.73346V0.216797L4.62453 0.216797C1.33286 0.216797 0.249528 1.20013 0.174528 4.27513C0.166195 4.42513 0.232862 4.58346 0.341195 4.6918C0.449528 4.80846 0.591195 4.8668 0.757862 4.8668C1.92453 4.8668 2.88286 5.83346 2.88286 7.00013C2.88286 8.1668 1.92453 9.13346 0.757862 9.13346C0.599528 9.13346 0.449528 9.1918 0.341195 9.30846C0.232862 9.4168 0.166195 9.57513 0.174528 9.72513C0.249528 12.8001 1.33286 13.7835 4.62453 13.7835H5.5912V11.2668C5.5912 10.9418 5.85786 10.6835 6.17453 10.6835C6.4912 10.6835 6.75786 10.9418 6.75786 11.2668V13.7835H12.3745C15.7912 13.7835 16.8329 12.7418 16.8329 9.32513V4.67513C16.8329 1.25846 15.7912 0.216797 12.3745 0.216797ZM13.8912 6.9168L13.1162 7.6668C13.0829 7.6918 13.0745 7.7418 13.0829 7.78346L13.2662 8.8418C13.2995 9.03346 13.2245 9.23346 13.0579 9.35013C12.8995 9.4668 12.6912 9.48346 12.5162 9.3918L11.5579 8.8918C11.5245 8.87513 11.4745 8.87513 11.4412 8.8918L10.4829 9.3918C10.4079 9.43346 10.3245 9.45013 10.2412 9.45013C10.1329 9.45013 10.0329 9.4168 9.94119 9.35013C9.78286 9.23346 9.69953 9.0418 9.73286 8.8418L9.9162 7.78346C9.92453 7.7418 9.90786 7.70013 9.88286 7.6668L9.10786 6.9168C8.96619 6.78346 8.91619 6.57513 8.97453 6.3918C9.03286 6.20013 9.19119 6.0668 9.39119 6.0418L10.4579 5.88346C10.4995 5.87513 10.5329 5.85013 10.5579 5.8168L11.0329 4.85013C11.1245 4.67513 11.2995 4.5668 11.4995 4.5668C11.6995 4.5668 11.8745 4.67513 11.9579 4.85013L12.4329 5.8168C12.4495 5.85846 12.4829 5.88346 12.5245 5.88346L13.5912 6.0418C13.7912 6.0668 13.9495 6.20846 14.0079 6.3918C14.0829 6.57513 14.0329 6.77513 13.8912 6.9168Z",fill:"url(#paint0_linear_12611_1727)"})),Re||(Re=r.createElement("defs",null,r.createElement("linearGradient",{id:"paint0_linear_12611_1727",x1:.173828,y1:13.7835,x2:18.2362,y2:11.5461,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#9945FF"}),r.createElement("stop",{offset:1,stopColor:"#B9F8FD"})))))}const Le=r.forwardRef(Fe),ze=(n.p,()=>{const e=k(),t=q(e),n=je(e),[a,s]=(0,r.useState)(!1),i=(0,r.useMemo)((()=>{const e=[{type:I.GoodLuck,rewardAddress:I.GoodLuck}];for(const n in t){const{rewardType:r}=t[n];let a=I.Token;r.nftCollection&&(a=I.NFT),r.ticket&&(a=I.Ticket),e.push({type:a,rewardAddress:n})}return e}),[t]);return(0,v.jsxs)(l.Row,{gutter:[16,16],justify:"center",children:[(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(Be,{rewards:i})}),(0,v.jsx)(l.Col,{span:24,className:"remaining-ticket",children:(0,v.jsx)(me,{children:(0,v.jsxs)(l.Row,{justify:"space-between",wrap:!1,align:"middle",children:[(0,v.jsx)(l.Col,{children:(0,v.jsxs)(l.Space,{className:"space-middle-icon",children:[(0,v.jsx)(l.Typography.Text,{children:"Remaining tickets:"}),(0,v.jsx)(l.Typography.Title,{level:5,className:"gradient-text",children:Object.keys(n).length}),(0,v.jsx)(le.Z,{style:{fontSize:20},component:Le})]})}),(0,v.jsx)(l.Col,{children:(0,v.jsx)(l.Divider,{type:"vertical",style:{borderColor:"#4E4F5C",height:24}})}),(0,v.jsx)(l.Col,{children:(0,v.jsx)(l.Button,{style:{marginLeft:-12},type:"text",onClick:async()=>{s(!0);try{const t=new c.web3.Transaction;let n=[];for(let a=0;a<5;a++){const r=c.web3.Keypair.generate(),{tx:a}=await window.luckyWheel.initializeTicket({campaign:new c.web3.PublicKey(e),ticket:r,sendAndConfirm:!1});t.add(a),n.push(r)}const r=await window.luckyWheel.provider.sendAndConfirm(t,n);u("Create 5 Ticket",r)}catch(t){p(t)}finally{s(!1)}},loading:a,children:"Get more ticket"})})]})})})]})}),Me=e=>{let{tabId:t}=e;return t===P.Reward?(0,v.jsx)(he,{}):t===P.Spin?(0,v.jsx)(ze,{}):(0,v.jsx)(r.Fragment,{})};var Ee=n(29981);const Oe=e=>{const t=(0,a.useSelector)((e=>e.lotteryInfos)),n=(0,s.useWalletAddress)(),i=Object.values(t).find((t=>t.campaign.toBase58()===e&&t.authority.toBase58()===n)),l=(0,r.useMemo)((()=>({authority:new c.web3.PublicKey(n),campaign:new c.web3.PublicKey(e),totalPicked:new c.BN(0),totalClaimed:new c.BN(0)})),[e,n]);return i||l},De=()=>{const e=Oe(x.sol.campaignId);return(0,v.jsxs)(l.Space,{size:4,className:"remaining-ticket space-middle-icon",children:[(0,v.jsx)(l.Typography.Text,{children:"Total spins:"}),(0,v.jsx)(l.Typography.Title,{level:5,className:"gradient-text",children:e.totalPicked.toNumber()}),(0,v.jsx)(le.Z,{style:{fontSize:20},component:Le})]})},We=n.p+"static/media/gift01.14ac25213fe68b027def.png",Ke=e=>{let{src:t="",status:n=F.Pending,amount:r=0,active:a}=e;const s=a?"card-gift active":"card-gift",i=n===F.Pending?"default":"primary",c=n===F.Claimed?"card-gift-btn claimed-btn":"card-gift-btn";return(0,v.jsxs)("div",{className:s,children:[(0,v.jsx)(l.Image,{src:t,preview:!1}),(0,v.jsx)("div",{className:"gift-step-icon",children:r}),(0,v.jsx)("div",{className:c,children:(0,v.jsx)(l.Button,{type:i,onClick:()=>{},ghost:n===F.Claimed,children:n})})]})},_e={20:{src:We,status:F.Claimed},50:{src:We,status:F.Ready},80:{src:We,status:F.Pending},120:{src:We,status:F.Pending},180:{src:We,status:F.Pending}},Ze=()=>{const e=k(),t=Oe(e);return(0,v.jsx)(r.Fragment,{children:Object.keys(_e).map((e=>{const{src:n,status:r}=_e[e];return(0,v.jsx)("div",{className:"card-challenge-gift",style:{left:`calc(${Number(e)*He}% - 75px)`},children:(0,v.jsx)("div",{style:{minWidth:150},children:(0,v.jsx)(Ke,{src:n,status:r,amount:e,active:Number(e)<=t.totalClaimed.toNumber()})})},e)}))})};var Ge;!function(e){e.Horizontal="horizontal",e.Vertical="vertical"}(Ge||(Ge={}));const Ve=e=>{let{direction:t="horizontal",percent:n=0,showInfo:r=!1,style:a,strokeWitdh:s=4,borderRadius:i=s,background:l="#fff",successColor:c="#000",infoStyle:o}=e;const d=t===Ge.Vertical?{flexFlow:"column",alignItems:"start",width:s,height:"100%"}:{flexFlow:"row nowrap",alignItems:"center",width:"100%"},u=t===Ge.Vertical?{height:"100%",width:s}:{height:s,width:"100%"},p=t===Ge.Vertical?{height:`${n}%`,width:"100%"}:{height:"100%",width:`${n}%`};return(0,v.jsxs)("div",{style:{display:"flex",gap:12,...d,...a},children:[(0,v.jsx)("div",{style:{display:"flex",...u,background:l,transition:"all 0.3s ease",borderRadius:i},children:(0,v.jsx)("div",{style:{...p,background:c,transition:"all 0.3s ease",borderRadius:i}})}),r&&(0,v.jsxs)("div",{style:{...o},children:[n,"%"]})]})},He=.5,Ye=()=>{const e=k(),t=Oe(e),n=(0,s.useInfix)()<s.Infix.lg,r=n?"vertical":"horizontal",a=n?48:134,i=n?"card-challenge mobile-direction":"card-challenge";return(0,v.jsx)(Ee.Z,{className:i,bordered:!1,children:(0,v.jsxs)(l.Row,{gutter:[24,a],justify:"center",children:[(0,v.jsx)(l.Col,{span:24,children:(0,v.jsxs)(l.Row,{className:"inner-challenge-progress",children:[(0,v.jsx)(l.Col,{className:"challenge-gifts",span:24,children:(0,v.jsx)(Ze,{})}),(0,v.jsx)(l.Col,{className:"challenge-progress",children:(0,v.jsx)(Ve,{percent:t.totalPicked.toNumber()*He,strokeWitdh:12,background:"#212433",successColor:"linear-gradient(84.24deg, #9945FF 0%, #B9F8FD 100%)",direction:r})})]})}),(0,v.jsx)(l.Col,{className:"challenge-action",children:(0,v.jsx)(De,{})})]})})};var $e,Ue,Qe,Xe,Je;function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}function et(e,t){let{title:n,titleId:a,...s}=e;return r.createElement("svg",qe({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,$e||($e=r.createElement("path",{d:"M7.03 3.17C7.02 3.08 7.01 3 6.99 2.91C6.98 2.84 6.97 2.77 6.95 2.69C6.92 2.57 6.88 2.44 6.83 2.32C6.71 1.97 6.53 1.65 6.3 1.35C6.17 1.19 6.03 1.03 5.87 0.9C5.23 0.32 4.4 0 3.53 0C1.58 0 0 1.58 0 3.53C0 4.4 0.32 5.23 0.9 5.87C1.03 6.03 1.19 6.17 1.35 6.3C1.65 6.53 1.97 6.71 2.32 6.83C2.44 6.88 2.57 6.92 2.69 6.95C2.77 6.97 2.84 6.98 2.91 6.99C3 7.01 3.08 7.02 3.17 7.03C3.29 7.04 3.41 7.05 3.53 7.05C5.47 7.05 7.05 5.47 7.05 3.53C7.05 3.41 7.04 3.29 7.03 3.17Z",fill:"#B67AFF"})),Ue||(Ue=r.createElement("path",{d:"M19.0992 14.1402C18.9992 14.0102 18.8692 13.8802 18.7292 13.7702C18.7092 13.7502 18.6792 13.7202 18.6492 13.7002C18.3792 13.4902 18.0792 13.3202 17.7692 13.2002C17.7392 13.1802 17.7092 13.1702 17.6792 13.1702C17.5692 13.1302 17.4592 13.0902 17.3492 13.0602C17.1792 13.0202 16.9992 12.9902 16.8292 12.9702C16.7092 12.9602 16.5892 12.9502 16.4692 12.9502C14.5292 12.9502 12.9492 14.5302 12.9492 16.4702C12.9492 16.5902 12.9592 16.7102 12.9692 16.8302C12.9892 17.0002 13.0192 17.1802 13.0592 17.3502C13.0892 17.4602 13.1292 17.5702 13.1692 17.6802C13.1692 17.7102 13.1792 17.7402 13.1992 17.7702C13.3192 18.0802 13.4892 18.3802 13.6992 18.6502C13.7192 18.6802 13.7492 18.7002 13.7692 18.7302C13.8792 18.8702 14.0092 19.0002 14.1392 19.1002C14.7792 19.6802 15.5992 20.0002 16.4692 20.0002C18.4192 20.0002 19.9992 18.4202 19.9992 16.4702C19.9992 15.6002 19.6792 14.7802 19.0992 14.1402Z",fill:"#B67AFF"})),Qe||(Qe=r.createElement("path",{d:"M3.53 12.9502C3.41 12.9502 3.29 12.9602 3.17 12.9702C3 12.9902 2.82 13.0202 2.65 13.0602C2.54 13.0902 2.43 13.1302 2.32 13.1702C2.29 13.1702 2.26 13.1802 2.23 13.2002C1.92 13.3202 1.62 13.4902 1.35 13.7002C1.32 13.7202 1.3 13.7502 1.27 13.7702C1.13 13.8802 1 14.0102 0.9 14.1402C0.32 14.7802 0 15.6002 0 16.4702C0 18.4202 1.58 20.0002 3.53 20.0002C4.4 20.0002 5.23 19.6802 5.87 19.1002C6.03 18.9702 6.17 18.8102 6.3 18.6502C6.51 18.3802 6.68 18.0802 6.8 17.7702C6.82 17.7402 6.83 17.7102 6.83 17.6802C6.87 17.5702 6.91 17.4602 6.94 17.3502C6.98 17.1802 7.01 17.0002 7.03 16.8302C7.04 16.7102 7.05 16.5902 7.05 16.4702C7.05 14.5302 5.47 12.9502 3.53 12.9502Z",fill:"#B67AFF"})),Xe||(Xe=r.createElement("path",{d:"M16.4692 0C15.5992 0 14.7792 0.32 14.1392 0.9C14.0092 1 13.8792 1.13 13.7692 1.27C13.7492 1.29 13.7192 1.32 13.6992 1.35C13.4892 1.62 13.3192 1.92 13.1992 2.23C13.1792 2.26 13.1692 2.29 13.1692 2.32C13.1292 2.43 13.0892 2.54 13.0592 2.65C13.0192 2.82 12.9892 3 12.9692 3.17C12.9592 3.29 12.9492 3.41 12.9492 3.53C12.9492 5.47 14.5292 7.05 16.4692 7.05C16.5892 7.05 16.7092 7.04 16.8292 7.03C16.9992 7.01 17.1792 6.98 17.3492 6.94C17.4592 6.91 17.5692 6.87 17.6792 6.83C17.7092 6.83 17.7392 6.82 17.7692 6.8C18.0792 6.68 18.3792 6.51 18.6492 6.3C18.8092 6.17 18.9692 6.03 19.0992 5.87C19.6792 5.23 19.9992 4.4 19.9992 3.53C19.9992 1.58 18.4192 0 16.4692 0Z",fill:"#B67AFF"})),Je||(Je=r.createElement("path",{d:"M13.77 18.73C13.75 18.7 13.72 18.68 13.7 18.65C13.49 18.38 13.32 18.08 13.2 17.77C13.21 17.8 13.22 17.83 13.23 17.86C11.22 18.7 8.82 18.71 6.77 17.86C6.78 17.83 6.79 17.8 6.8 17.77C6.68 18.08 6.51 18.38 6.3 18.65C6.17 18.81 6.03 18.97 5.87 19.1C7.15 19.69 8.57 20 10 20C11.46 20 12.85 19.7 14.14 19.1C14.01 19 13.88 18.87 13.77 18.73ZM1.5 10C1.5 8.89 1.72 7.78 2.14 6.77C2.15 6.77 2.17 6.78 2.18 6.78C2.06 6.73 1.93 6.67 1.82 6.61C1.66 6.52 1.5 6.42 1.35 6.3C1.19 6.17 1.03 6.03 0.9 5.87C0.31 7.15 0 8.57 0 10C0 11.46 0.3 12.85 0.9 14.14C1 14.01 1.13 13.88 1.27 13.77C1.3 13.75 1.32 13.72 1.35 13.7C1.62 13.49 1.92 13.32 2.23 13.2C2.2 13.21 2.17 13.22 2.14 13.23C1.71 12.22 1.5 11.13 1.5 10ZM19.1 5.87C18.97 6.03 18.81 6.17 18.65 6.3C18.38 6.51 18.08 6.68 17.77 6.8C17.8 6.79 17.83 6.78 17.86 6.77C18.28 7.78 18.5 8.89 18.5 10C18.5 11.13 18.29 12.22 17.86 13.23C17.83 13.22 17.8 13.21 17.77 13.2C18.08 13.32 18.38 13.49 18.65 13.7C18.68 13.72 18.71 13.75 18.73 13.77C18.87 13.88 19 14.01 19.1 14.14C19.7 12.85 20 11.46 20 10C20 8.57 19.69 7.15 19.1 5.87ZM10 0C8.57 0 7.15 0.31 5.87 0.9C6.03 1.03 6.17 1.19 6.3 1.35C6.42 1.5 6.52 1.66 6.61 1.82C6.67 1.93 6.73 2.06 6.78 2.18C6.78 2.17 6.77 2.15 6.77 2.14C8.81 1.29 11.22 1.3 13.23 2.14C13.22 2.17 13.21 2.2 13.2 2.23C13.32 1.92 13.49 1.62 13.7 1.35C13.72 1.32 13.75 1.29 13.77 1.27C13.88 1.13 14.01 1 14.14 0.9C12.85 0.3 11.46 0 10 0Z",fill:"#B9F8FD"})))}const tt=r.forwardRef(et);n.p;var nt,rt,at,st,it;function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(this,arguments)}function ct(e,t){let{title:n,titleId:a,...s}=e;return r.createElement("svg",lt({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,nt||(nt=r.createElement("path",{d:"M17.9707 8V16C17.9707 19 16.9707 20 13.9707 20H5.9707C2.9707 20 1.9707 19 1.9707 16V8H17.9707Z",fill:"#B9F8FD"})),rt||(rt=r.createElement("path",{d:"M19.5 5V6C19.5 7.1 18.97 8 17.5 8H2.5C0.97 8 0.5 7.1 0.5 6V5C0.5 3.9 0.97 3 2.5 3H17.5C18.97 3 19.5 3.9 19.5 5Z",fill:"#B67AFF"})),at||(at=r.createElement("path",{d:"M9.64076 2.99994H4.12076C3.78076 2.62994 3.79076 2.05994 4.15076 1.69994L5.57076 0.279941C5.94076 -0.0900586 6.55076 -0.0900586 6.92076 0.279941L9.64076 2.99994Z",fill:"#B67AFF"})),st||(st=r.createElement("path",{d:"M15.8696 2.99994H10.3496L13.0696 0.279941C13.4396 -0.0900586 14.0496 -0.0900586 14.4196 0.279941L15.8396 1.69994C16.1996 2.05994 16.2096 2.62994 15.8696 2.99994Z",fill:"#B67AFF"})),it||(it=r.createElement("path",{d:"M6.93945 8V13.14C6.93945 13.94 7.81945 14.41 8.48945 13.98L9.42945 13.36C9.76945 13.14 10.1995 13.14 10.5295 13.36L11.4195 13.96C12.0795 14.4 12.9695 13.93 12.9695 13.13V8H6.93945Z",fill:"#B67AFF"})))}const ot=r.forwardRef(ct);n.p;var dt,ut,pt;function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(this,arguments)}function mt(e,t){let{title:n,titleId:a,...s}=e;return r.createElement("svg",ht({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,dt||(dt=r.createElement("path",{d:"M16.9869 7.05346C16.9869 8.51454 16.5577 9.85471 15.8193 10.9732C14.7415 12.5854 13.035 13.724 11.0491 14.0162C10.7098 14.0767 10.3605 14.1069 10.0012 14.1069C9.64198 14.1069 9.2927 14.0767 8.9534 14.0162C6.96749 13.724 5.261 12.5854 4.18322 10.9732C3.44474 9.85471 3.01562 8.51454 3.01562 7.05346C3.01562 3.15391 6.13919 0 10.0012 0C13.8633 0 16.9869 3.15391 16.9869 7.05346Z",fill:"#B9F8FD"})),ut||(ut=r.createElement("path",{d:"M19.231 16.5955L17.5844 16.9884C17.2151 17.0791 16.9257 17.3613 16.8459 17.7341L16.4966 19.2153C16.307 20.0214 15.2891 20.2633 14.7602 19.6285L10 14.1066L5.2398 19.6385C4.71089 20.2733 3.69298 20.0315 3.50337 19.2254L3.15409 17.7441C3.06428 17.3713 2.77487 17.0791 2.41561 16.9985L0.769003 16.6055C0.0105648 16.4242 -0.258881 15.4669 0.28999 14.9127L4.18198 10.9829C5.25976 12.5951 6.96625 13.7338 8.95216 14.026C9.29146 14.0865 9.64074 14.1167 10 14.1167C10.3593 14.1167 10.7085 14.0865 11.0478 14.026C13.0338 13.7338 14.7402 12.5951 15.818 10.9829L19.71 14.9127C20.2589 15.4568 19.9894 16.4141 19.231 16.5955Z",fill:"#B67AFF"})),pt||(pt=r.createElement("path",{d:"M10.5798 4.01052L11.1686 5.19953C11.2484 5.36075 11.458 5.52198 11.6476 5.55221L12.7154 5.73357C13.394 5.84441 13.5537 6.34824 13.0647 6.84198L12.2364 7.67831C12.0967 7.81938 12.0168 8.09145 12.0667 8.29298L12.3062 9.33085C12.4958 10.147 12.0667 10.4695 11.3482 10.0362L10.3503 9.44167C10.1706 9.33083 9.87124 9.33083 9.69161 9.44167L8.69367 10.0362C7.97515 10.4594 7.54603 10.147 7.73564 9.33085L7.97515 8.29298C8.01506 8.10153 7.94521 7.81938 7.8055 7.67831L6.9772 6.84198C6.48821 6.34824 6.64788 5.85449 7.32648 5.73357L8.39428 5.55221C8.57391 5.52198 8.78348 5.36075 8.86332 5.19953L9.45211 4.01052C9.74151 3.36563 10.2604 3.36563 10.5798 4.01052Z",fill:"#B67AFF"})))}const wt=r.forwardRef(mt),yt=(n.p,[{label:(0,v.jsxs)(l.Space,{className:"space-middle-icon",children:[(0,v.jsx)(le.Z,{style:{fontSize:20},component:tt}),(0,v.jsx)(l.Typography.Text,{children:"Spin"})]}),value:P.Spin},{label:(0,v.jsxs)(l.Space,{className:"space-middle-icon",children:[(0,v.jsx)(le.Z,{style:{fontSize:20},component:ot}),(0,v.jsx)(l.Typography.Text,{children:"Reward"})]}),value:P.Reward},{label:(0,v.jsxs)(l.Space,{className:"space-middle-icon",children:[(0,v.jsx)(le.Z,{style:{fontSize:20},component:wt}),(0,v.jsx)(l.Typography.Text,{children:"Challenge"})]}),value:P.Challenge}]),Ct=()=>{const[e,t]=(0,r.useState)(P.Spin);return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(me,{children:(0,v.jsxs)(l.Row,{gutter:[32,32],style:{paddingBottom:24},children:[(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Segmented,{value:e,onChange:e=>t(e.toString()),options:yt,size:"large"})}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(Me,{tabId:e})})]})}),e===P.Challenge&&(0,v.jsx)(Ye,{})]})};var xt=n(2582),gt=n(10240);const jt=e=>{let{perViews:t=4,spacing:n=0,speed:r=9e3,data:a=[],height:i=240}=e;const c=k(),o=q(c);return(0,v.jsx)(gt.tq,{modules:[xt.pt,xt.oM],slidesPerView:t,spaceBetween:n,autoplay:{delay:0,disableOnInteraction:!1,reverseDirection:!1},speed:r,loop:!0,className:"apps-slide-infinite",children:Object.keys(o).length&&a.map(((e,t)=>{let{authority:n,rewardAddress:r}=e;return(0,v.jsx)(gt.o5,{style:{height:i},children:(0,v.jsxs)(l.Space,{children:[(0,v.jsxs)(l.Typography.Text,{children:[s.util.shortenAddress(n)," won"]}),(0,v.jsxs)(l.Typography.Text,{style:{color:"#B67AFF"},children:[(0,v.jsx)(M,{rewardAddress:r})," ",(0,v.jsx)(Z,{rewardAddress:r})]})]})},t)}))})},ft=()=>{const e=k(),t=de(e,!1),n=(0,s.useWidth)(),a=(0,r.useMemo)((()=>{let e=2;return n>575&&(e=3),n>992&&(e=4),n>1200&&(e=5),e}),[n]),i=(0,r.useMemo)((()=>{const e=[];for(const n in t){if(e.length>5)return e;const{state:r,reward:a,authority:s}=t[n];(r.won||r.claimed)&&e.push({authority:s.toBase58(),rewardAddress:a.toBase58()})}return e}),[t]);return i.length?(0,v.jsx)(l.Card,{bordered:!1,style:{borderRadius:50},bodyStyle:{padding:16},children:(0,v.jsx)(jt,{data:i,perViews:a,height:"auto",spacing:24,speed:12e3})}):null},{manifest:{appId:bt}}=x,kt=e=>{let{children:t}=e;const n=(0,s.useWalletAddress)(),[a,i]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(a)return;const e=(0,be.getAnchorProvider)(s.rpc,n,window.sentre.wallet),t=new(U())(e,x.sol.programId);window.luckyWheel=t,i(!0)}),[n,a]),a?(0,v.jsx)(r.Fragment,{children:t}):null},vt=()=>(0,v.jsx)("div",{className:"loading-screen",style:{display:"block"},children:(0,v.jsxs)(l.Row,{gutter:[24,24],children:[(0,v.jsx)(l.Col,{span:24,style:{height:256}}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(l.Row,{gutter:[24,24],justify:"center",children:(0,v.jsx)(l.Col,{children:(0,v.jsxs)(l.Space,{direction:"vertical",align:"center",size:32,children:[(0,v.jsx)(l.Spin,{size:"large"}),(0,v.jsx)(l.Typography.Title,{level:5,children:"Welcome to Sen Lucky Wheel. The application is loading..."})]})})})})]})});var Tt=n(95418);const At="campaigns",St=(0,g.createAsyncThunk)("campaigns/intCampaign",(async e=>e)),Nt=(0,g.createAsyncThunk)("campaigns/upsetCampaign",(async e=>{let{address:t,data:n}=e;if(!Tt.account.isAddress(t))throw new Error("Invalid campaign address");if(!n)throw new Error("Data is empty");return{[t]:n}})),Bt=(0,g.createSlice)({name:At,initialState:{},reducers:{},extraReducers:e=>{e.addCase(St.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Nt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,It=e=>{const{program:t,name:n,filter:a,upset:s,init:i}=e,[l,c]=(0,r.useState)(0),{accountClient:o,connection:d}=(0,r.useMemo)((()=>{var e;const r=null===t||void 0===t||null===(e=t.account)||void 0===e?void 0:e[n];return{accountClient:r,connection:r.provider.connection}}),[n,null===t||void 0===t?void 0:t.account]),u=(0,r.useCallback)((async()=>{try{const e=await o.all(),t={};for(const n of e)t[n.publicKey.toBase58()]=n.account;i(t)}catch(e){p(e)}}),[o,i]),h=(0,r.useCallback)((async()=>{if(l)return;const e=d.onProgramAccountChange(o.programId,(async e=>{const r=e.accountId.toBase58(),a=e.accountInfo.data,i=t.coder.accounts.decode(n,a);s(r,i)}),"confirmed",[{dataSize:o.size},{memcmp:{offset:0,bytes:(0,be.encodeIxData)((0,be.accountDiscriminator)(n))}},...a]);c(e)}),[o.programId,o.size,d,a,n,t.coder.accounts,s,l]);return(0,r.useEffect)((()=>{u()}),[u]),(0,r.useEffect)((()=>(h(),()=>{(async()=>{l&&(await d.removeProgramAccountChangeListener(l),c(0))})()})),[d,h,l]),(0,v.jsx)(r.Fragment,{})},Rt=[],Pt=()=>{const e=(0,a.useDispatch)(),t=(0,r.useCallback)((t=>e(St(t))),[e]),n=(0,r.useCallback)(((t,n)=>e(Nt({address:t,data:n}))),[e]);return(0,v.jsx)(It,{program:window.luckyWheel.program,name:"campaign",filter:Rt,init:t,upset:n})},Ft="rewards",Lt=(0,g.createAsyncThunk)("rewards/initRewards",(async e=>e)),zt=(0,g.createAsyncThunk)("rewards/upsetReward",(async e=>{let{address:t,data:n}=e;if(!Tt.account.isAddress(t))throw new Error("Invalid reward address");if(!n)throw new Error("Data is empty");return{[t]:n}})),Mt=(0,g.createSlice)({name:Ft,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Lt.fulfilled,((e,t)=>{let{payload:n}=t;return n})).addCase(zt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,Et=[],Ot=()=>{const e=(0,a.useDispatch)(),t=(0,r.useCallback)((t=>e(Lt(t))),[e]),n=(0,r.useCallback)(((t,n)=>e(zt({address:t,data:n}))),[e]);return(0,v.jsx)(It,{program:window.luckyWheel.program,name:"reward",filter:Et,init:t,upset:n})},Dt="tickets",Wt=(0,g.createAsyncThunk)("tickets/initTickets",(async e=>e)),Kt=(0,g.createAsyncThunk)("tickets/upsetTicket",(async e=>{let{address:t,data:n}=e;if(!Tt.account.isAddress(t))throw new Error("Invalid reward address");if(!n)throw new Error("Data is empty");return{[t]:n}})),_t=(0,g.createSlice)({name:Dt,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Wt.fulfilled,((e,t)=>{let{payload:n}=t;return n})).addCase(Kt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,Zt=[],Gt=()=>{const e=(0,a.useDispatch)(),t=(0,r.useCallback)((t=>e(Wt(t))),[e]),n=(0,r.useCallback)(((t,n)=>e(Kt({address:t,data:n}))),[e]);return(0,v.jsx)(It,{program:window.luckyWheel.program,name:"ticket",filter:Zt,init:t,upset:n})},Vt="lotteryInfo",Ht=(0,g.createAsyncThunk)("lotteryInfo/initLotteryInfo",(async e=>e)),Yt=(0,g.createAsyncThunk)("lotteryInfo/upsetLotteryInfo",(async e=>{let{address:t,data:n}=e;if(!s.util.isAddress(t))throw new Error("Invalid Lottery Info address");if(!n)throw new Error("Data is empty");return{[t]:n}})),$t=(0,g.createSlice)({name:Vt,initialState:{},reducers:{},extraReducers:e=>{e.addCase(Ht.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)})).addCase(Yt.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,Ut=[],Qt=()=>{const e=(0,a.useDispatch)(),t=(0,r.useCallback)((t=>e(Ht(t))),[e]),n=(0,r.useCallback)(((t,n)=>e(Yt({address:t,data:n}))),[e]);return(0,v.jsx)(It,{program:window.luckyWheel.program,name:"lotteryInfo",filter:Ut,init:t,upset:n})},Xt=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{setTimeout((()=>a(!1)),3e3)}),[]),(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(Pt,{}),(0,v.jsx)(Ot,{}),(0,v.jsx)(Gt,{}),(0,v.jsx)(Qt,{}),n?(0,v.jsx)(vt,{}):t]})};n(56373);const Jt=()=>{const{appRoute:e}=(()=>{const e=(0,i.useLocation)(),t=(0,i.useHistory)(),n=(0,r.useMemo)((()=>new URLSearchParams(e.search)),[e.search]),a=(0,r.useCallback)((e=>n.get(e)),[n]),s=(0,r.useCallback)((e=>{const t=new URLSearchParams;for(const n in e)t.set(n,e[n]);return t.toString()}),[]),l=(0,r.useMemo)((()=>`/app/${bt}`),[]);return{getQuery:a,generateQuery:s,pushHistory:(0,r.useCallback)((e=>t.push(`${l}${e}`)),[l,t]),appRoute:l}})();return(0,v.jsx)(kt,{children:(0,v.jsx)(Xt,{children:(0,v.jsxs)(l.Row,{gutter:[24,24],children:[(0,v.jsx)(l.Col,{span:24,children:(0,v.jsx)(ft,{})}),(0,v.jsx)(l.Col,{span:24,children:(0,v.jsxs)(i.Switch,{children:[(0,v.jsx)(i.Route,{exact:!0,path:`${e}/admin`,component:ie}),(0,v.jsx)(i.Route,{exact:!0,path:`${e}/dashboard`,component:Ct}),(0,v.jsx)(i.Redirect,{from:e,to:`${e}/dashboard`})]})})]})})})};var qt=n(71256),en=n(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const tn={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof qt.PublicKey||e instanceof d()||en.isBuffer(e)}},nn=(0,g.configureStore)({middleware:e=>e(tn),devTools:!1,reducer:{main:b,campaigns:Bt,rewards:Mt,tickets:_t,lotteryInfos:$t}});const rn=n.p+"static/media/bg-lucky-wheel.9b9f5b320d8e3574f290c88a766abd71.svg";var an=n(45597);const{manifest:{appId:sn}}=x,ln=()=>{const e=(0,s.useSetBackground)();return(0,r.useEffect)((()=>{e({dark:rn,light:rn})}),[e]),(0,v.jsx)(s.AntdProvider,{appId:sn,prefixCls:sn,children:(0,v.jsx)(a.Provider,{store:nn,children:(0,v.jsx)(Jt,{})})})}},83272:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/README.b814b85f212785d7efd5.md"},27803:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/panel1.c4dfe48d28d8c4ebce76.png"},85468:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/panel2.a3f21e34a2807fb886e4.png"},83943:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/panel3.b46b51e98165d84bfb4c.png"},7420:()=>{},95856:()=>{},46601:()=>{},89214:()=>{},85568:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=src_bootstrap_app_tsx-src_static_images_sound_mp3-src_static_images_winner_mp3-src_static_ima-28f3ec.a7cbf5fd.chunk.js.map